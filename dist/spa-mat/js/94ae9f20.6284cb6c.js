(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["94ae9f20"],{"19d4":function(t,a,e){"use strict";var s=e("2a38"),r=e.n(s);r.a},"2a38":function(t,a,e){},"307f":function(t,a,e){"use strict";var s=e("6512"),r=e.n(s);r.a},6512:function(t,a,e){},"660e":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("q-page",[e("q-card",{staticClass:"actions row row-form"},[e("div",{staticClass:"col-xs-12 col-md-4"},[e("q-select",{staticClass:"form-control dashboard-header",attrs:{options:t.yearListOptions,filter:"",dark:"",clearable:"","display-value":t.yearListOptions[t.year]?t.yearListOptions[t.year].label:"","filter-placeholder":t.$t("search_label"),"float-label":t.$t("year_label")},model:{value:t.year,callback:function(a){t.year=a},expression:"year"}})],1),e("div",{staticClass:"col-xs-6 col-md-4"},[e("q-datetime",{staticClass:"dashboard-header",attrs:{type:"date",clearable:"",popover:"",format:"DD-MMM-YYYY","float-label":"Fecha Inicial"},model:{value:t.dateInitial,callback:function(a){t.dateInitial=a},expression:"dateInitial"}})],1),e("div",{staticClass:"col-xs-6 col-md-4"},[e("q-datetime",{staticClass:"dashboard-header",attrs:{type:"date",clearable:"",popover:"",format:"DD-MMM-YYYY","float-label":"Fecha Final"},model:{value:t.dateFinal,callback:function(a){t.dateFinal=a},expression:"dateFinal"}})],1)]),e("div",{attrs:{id:"container"}},[e("q-card",{ref:"graph0",staticClass:"fit actions row row-form",attrs:{inline:""}},[e("q-card-title",[t._v("\n          "+t._s(t.$t("dashboard_title"))+"\n          "),e("div",{staticClass:"row items-center",attrs:{slot:"right"},slot:"right"},[e("q-icon",{staticStyle:{display:"none"},attrs:{name:"pie_chart",color:"secondary"}}),e("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"expand_less",color:"primary"},on:{click:function(a){t.toggleCardGraph(0)}}})],1)]),e("q-card-main",{staticClass:"expanded"},[e("div",{staticClass:"row row-form"},[e("div",{staticClass:"col-xs-6 hide-on-desktop"},[e("q-btn",{staticClass:"dashboard-header expand-collapse",attrs:{icon:"swap_vert",color:"secondary"},on:{click:function(a){t.toggleAll()}}})],1),e("div",{staticClass:"col-xs-6 hide-on-desktop"},[e("q-btn",{staticClass:"dashboard-header expand-collapse",attrs:{icon:"search",color:"secondary"},on:{click:function(a){t.toggleCardGraph(0)}}})],1),e("div",{staticClass:"col-xs-6 col-md-3"},[e("q-list",{attrs:{color:"primary"}},[e("q-item",[e("q-item-side",[e("q-item-tile",{attrs:{color:"primary",icon:"home"}})],1),e("q-item-main",[e("q-item-tile",{attrs:{label:"",color:"secondary"}},[t._v(t._s(t.$t("national_donors")))]),e("q-item-tile",{attrs:{sublabel:"",color:"white"}},[t._v(t._s(this.userStats.natlDonors))])],1)],1),e("q-item",[e("q-item-side",[e("q-item-tile",{attrs:{color:"primary",icon:"public"}})],1),e("q-item-main",[e("q-item-tile",{attrs:{label:"",color:"secondary"}},[t._v(t._s(t.$t("foregin_donors")))]),e("q-item-tile",{attrs:{sublabel:"",color:"white"}},[t._v(t._s(this.userStats.intlDonors))])],1)],1)],1)],1),e("div",{staticClass:"col-xs-6 col-md-2"},[e("q-list",[e("q-item",[e("q-item-side",[e("q-item-tile",{attrs:{color:"primary",icon:"people"}})],1),e("q-item-main",[e("q-item-tile",{attrs:{label:"",color:"secondary"}},[t._v(t._s(t.$t("total_donors")))]),e("q-item-tile",{attrs:{sublabel:"",color:"white"}},[t._v(t._s(this.userStats.totalDonors))])],1)],1),e("q-item",[e("q-item-side",[e("q-item-tile",{attrs:{color:"primary",icon:"supervisor_account"}})],1),e("q-item-main",[e("q-item-tile",{attrs:{label:"",color:"secondary"}},[t._v(t._s(t.$t("total_teachers")))]),e("q-item-tile",{attrs:{sublabel:"",color:"white"}},[t._v(t._s(this.userStats.totalTeachers))])],1)],1)],1)],1),e("div",{staticClass:"col-md-2 hide-on-mobile"},[e("q-btn",{staticClass:"dashboard-header expand-collapse",attrs:{icon:"swap_vert",color:"secondary"},on:{click:function(a){t.toggleAll()}}}),e("q-btn",{staticClass:"dashboard-header expand-collapse",attrs:{icon:"refresh",color:"secondary"},on:{click:function(a){t.refresh()}}})],1),e("div",{staticClass:"col-xs-6 col-md-2"},[e("q-list",[e("q-item",[e("q-item-side",[e("q-item-tile",{attrs:{color:"primary",icon:"attach_money"}})],1),e("q-item-main",[e("q-item-tile",{attrs:{label:"",color:"secondary"}},[t._v(t._s(t.$t("total_incomes")))]),e("q-item-tile",{attrs:{sublabel:"",color:"white"}},[t._v(t._s(t._f("currency")(this.userStats.totalIncomes)))])],1)],1),e("q-item",[e("q-item-side",[e("q-item-tile",{attrs:{color:"primary",icon:"shopping_cart"}})],1),e("q-item-main",[e("q-item-tile",{attrs:{label:"",color:"secondary"}},[t._v(t._s(t.$t("total_outcomes")))]),e("q-item-tile",{attrs:{sublabel:"",color:"white"}},[t._v(" "+t._s(t._f("currency")(this.userStats.totalOutcomes)))])],1)],1)],1)],1),e("div",{staticClass:"col-xs-6 col-md-3"},[e("q-list",[e("q-item",[e("q-item-side",[e("q-item-tile",{attrs:{color:"primary",icon:"school"}})],1),e("q-item-main",[e("q-item-tile",{attrs:{label:"",color:"secondary"}},[t._v(t._s(t.$t("assign_courses")))]),e("q-item-tile",{attrs:{sublabel:"",color:"white"}},[t._v(t._s(this.userStats.totalAsignedCourses))])],1)],1),e("q-item",[e("q-item-side",[e("q-item-tile",{attrs:{color:"primary",icon:"people"}})],1),e("q-item-main",[e("q-item-tile",{attrs:{label:"",color:"secondary"}},[t._v(t._s(t.$t("students_avg")))]),e("q-item-tile",{attrs:{sublabel:"",color:"white"}},[t._v(t._s(this.userStats.avgStudents))])],1)],1)],1)],1)])]),e("q-card-separator")],1),e("q-card",{ref:"graph1",staticClass:"fit row row-form",attrs:{inline:""}},[e("q-card-title",[t._v("\n          "+t._s(t.graphsArray[0].title)+"\n          "),e("div",{staticClass:"row items-center",attrs:{slot:"right"},slot:"right"},[e("q-icon",{attrs:{name:"pie_chart",color:"secondary"}}),e("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"expand_less",color:"primary"},on:{click:function(a){t.toggleCardGraph(1)}}}),e("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"library_books",color:"primary"},on:{click:function(a){t.downloadExcelGraph(1)}}})],1)]),e("q-card-main",{staticClass:"expanded"},[e("line-chart-component",{attrs:{optionsLineChart:t.optionsLineChart}})],1),e("q-card-separator")],1),e("q-card",{ref:"graph2",staticClass:"fit row row-form",attrs:{inline:""}},[e("q-card-title",[t._v("\n          "+t._s(t.graphsArray[1].title)+"\n          "),e("div",{staticClass:"row items-center",attrs:{slot:"right"},slot:"right"},[e("q-icon",{attrs:{name:"pie_chart",color:"secondary"}}),e("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"expand_less",color:"primary"},on:{click:function(a){t.toggleCardGraph(2)}}}),e("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"library_books",color:"primary"},on:{click:function(a){t.downloadExcelGraph(2)}}})],1)]),e("q-card-main",{staticClass:"expanded"},[e("column-chart-component",{attrs:{optionsColumnChart:t.optionsColumnChart}})],1),e("q-card-separator")],1),e("q-card",{ref:"graph3",staticClass:"fit row row-form",attrs:{inline:""}},[e("q-card-title",[t._v("\n          "+t._s(t.graphsArray[2].title)+"\n          "),e("div",{staticClass:"row items-center",attrs:{slot:"right"},slot:"right"},[e("q-icon",{attrs:{name:"pie_chart",color:"secondary"}}),e("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"expand_less",color:"primary"},on:{click:function(a){t.toggleCardGraph(3)}}}),e("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"library_books",color:"primary"},on:{click:function(a){t.downloadExcelGraph(3)}}})],1)]),e("q-card-main",{staticClass:"expanded"},[e("column-chart-component-two",{attrs:{optionsColumnTwoChart:t.optionsColumnTwoChart}})],1),e("q-card-separator")],1)],1)],1)},r=[];s._withStripped=!0;e("7f7f");var o=e("3156"),i=e.n(o),n=(e("6458"),e("2f62")),l=e("6e87"),c=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("highcharts",{ref:"highcharts",attrs:{options:t.optionsLineChart}})],1)},d=[];c._withStripped=!0;var h={name:"LineChartComponent",components:{},props:{optionsLineChart:{type:Object,required:!0}},computed:{},methods:{}},p=h,m=(e("307f"),e("2877")),u=Object(m["a"])(p,c,d,!1,null,null,null);u.options.__file="lineChart.vue";var f=u.exports,C=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("highcharts",{ref:"highcharts",attrs:{options:t.optionsColumnChart}})},q=[];C._withStripped=!0;var b={name:"ColumnChartComponent",components:{},props:{optionsColumnChart:{type:Object,required:!0}},computed:{},methods:{}},_=b,y=(e("19d4"),Object(m["a"])(_,C,q,!1,null,null,null));y.options.__file="columnChart.vue";var g=y.exports,v=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("highcharts",{ref:"highcharts",attrs:{options:t.optionsColumnTwoChart}})},w=[];v._withStripped=!0;var x={name:"ColumnChartComponent",components:{},props:{optionsColumnTwoChart:{type:Object,required:!0}},computed:{},methods:{}},$=x,k=(e("87f5"),Object(m["a"])($,v,w,!1,null,null,null));k.options.__file="columnChartTwo.vue";var S=k.exports,D=e("0e0b"),F={name:"home-page",components:{LineChartComponent:f,ColumnChartComponent:g,ColumnChartComponentTwo:S},created:function(){this.refresh()},data:function(){return{yearListOptions:D["x"](),year:(new Date).getFullYear(),dateInitial:new Date((new Date).getFullYear(),0,1),dateFinal:new Date((new Date).getFullYear(),11,31),graphsAmount:3,expandedAll:!0,graph:"graph",optionsLineChart:{},optionsColumnTwoChart:{},optionsColumnChart:{},gradesByName:["1ro Primaria","2do Primaria","3ro Primaria","4to Primaria","5to Primaria","6to Primaria","1ro Básico","2do Básico","3ro Básico"],graphsArray:[{title:"Donaciones y Gastos",name:"incomesVsOutcomesByMonth"},{title:"Gastos por Tipo",name:"outcomeByTypeAndMonth"},{title:"Estudiantes por Asignaciones por Grado",name:"coursesByGradeAndTime"}],graphDto:{}}},watch:{year:function(t){this.dateInitial=new Date(t,0,1),this.dateFinal=new Date(t,11,31)},userStats:function(t){t.avgStudents=Math.floor(t.avgStudents),this.optionsLineChart=D["g"]("line","Cantidad en Q. (Q.)",{userStatsuePrefix:"Q. "},D["j"](this.dateInitial,this.dateFinal),t.incomesVsOutcomesByMonth),this.optionsColumnChart=D["g"]("column","Cantidad en Q. (Q.)",{headerFormat:'<span style="font-size:10px">{point.key}</span><table>',pointFormat:'<tr><td style="color:{series.color};padding:0">{series.name}: </td><td style="padding:0"><b>{point.y:.1f} Q.</b></td></tr>',footerFormat:"</table>",shared:!0,useHTML:!0},D["j"](this.dateInitial,this.dateFinal),t.outcomeByTypeAndMonth),this.optionsColumnTwoChart=D["g"]("column","Cantidad de Estudiantes",{headerFormat:'<span style="font-size:10px">{point.key}</span><table>',pointFormat:'<tr><td style="color:{series.color};padding:0">{series.name}: </td><td style="padding:0"><b>{point.y}</b></td></tr>',footerFormat:"</table>",shared:!0,useHTML:!0},this.gradesByName,t.coursesByGradeAndTime)}},computed:i()({},Object(n["e"])("dashboardModule",["userStats","errors","error"])),methods:i()({},Object(n["b"])("dashboardModule",{fetchUserStats:l["C"],downloadReportStats:l["p"]}),{expandCard:function(t){this.$refs[this.graph+t].$children[1].$el.classList.add("expanded"),this.$refs[this.graph+t].$children[1].$el.classList.remove("shrinked"),this.$refs[this.graph+t].$children[0].$children[1].$children[0].$el.innerHTML="expand_less"},shrinkCard:function(t){this.$refs[this.graph+t].$children[1].$el.classList.remove("expanded"),this.$refs[this.graph+t].$children[1].$el.classList.add("shrinked"),this.$refs[this.graph+t].$children[0].$children[1].$children[0].$el.innerHTML="expand_more"},toggleCardGraph:function(t){void 0!==this.$refs[this.graph+t]&&(this.$refs[this.graph+t].$children[1].$el.classList.contains("expanded")?this.shrinkCard(t):this.expandCard(t))},downloadExcelGraph:function(t){var a,e=this.graphsArray[t-1];this.graphDto={series:this.userStats[e.name],title:e.title,time:D["i"](new Date),username:D["l"]("username"),sponsor:"Instituto Puente"},a=3===t?this.gradesByName:D["j"](this.dateInitial,this.dateFinal),this.graphDto.cols=a,this.downloadReportStats({graphDto:this.graphDto}),console.log(this.graphDto)},toggleAll:function(){for(var t=1;t<=this.graphsAmount;t++)this.expandedAll?this.shrinkCard(t):this.expandCard(t);this.expandedAll=!this.expandedAll},refresh:function(){this.fetchUserStats({dashboardReq:{dateInitial:D["i"](this.dateInitial),dateFinal:D["i"](this.dateFinal)}})}}),filters:{currency:function(t){return D["e"](t)}}},L=F,A=(e("89b1"),Object(m["a"])(L,s,r,!1,null,null,null));A.options.__file="HomePage.vue";a["default"]=A.exports},"87f5":function(t,a,e){"use strict";var s=e("b712"),r=e.n(s);r.a},"89b1":function(t,a,e){"use strict";var s=e("aaad"),r=e.n(s);r.a},aaad:function(t,a,e){},b712:function(t,a,e){}}]);